--- a/engines/default_engine/default_engine.c	2012-01-20 16:15:48.000000000 -0600
+++ b/engines/default_engine/default_engine.c	2012-05-24 15:24:56.122622228 -0500
@@ -551,7 +551,7 @@
        set_vbucket_state(se, 0, vbucket_state_active);
    }
 
-   return ENGINE_SUCCESS;
+   return ret;
 }
 
 static bool set_vbucket(struct default_engine *e,
